<div id="blog">
    <h1>Blog</h1>
    <div class="pure-g">
        <div class="pure-u-1 pure-u-md-4-5">
        {% for post in site.posts %}
            {% if post.published != "false" %}
            <div class="post">
                <a href="{{ base }}{{ post.url }}" class="post-title">
                    <h2>{{ post.title }}</h2>
                </a>
                <div class="post-tags">
                    {% for tag in post.tags %}
                        <div class="tag" data-tag="{{ tag }}">

                            {{ tag }}
                        </div><span>{% unless forloop.last %}, {% endunless %}</span>
                    {% endfor %}
                </div>
                <hr class="post-hr">
            </div>
            {% endif %}
        {% endfor %}
        </div>
        <div class="pure-u-1 pure-u-md-1-5">
            <h3>Tags</h3>
            <div class="tag-search">
                <div class="selected-tags"></div>
                <input type="text" class="tag-input" />
                <div class="tag-list">
                    {% assign tags =  site.posts |  where: 'published', 'true' | map: 'tags' | join: ','  | split: ',' | uniq %}
                    {% for tag in tags %}
                    <div class="tag-filter active" data-tag="{{ tag }}">
                        {{ tag }}
                    </div>
                    {% endfor %}

                </div>
                {% assign tagArray = '' | split: ',' %}
                {% for post in site.posts %}
                {% if post.published != "false" %}
                    {% for tag in post.tags %}
                        {% assign tagArray = tagArray | push: tag %}
                    {% endfor %}
                 {% endif %}
                {% endfor %}
                {% assign uniqTags = tagArray | uniq %}
                {% for tag in uniqTags %}
                    {{ tag }}
                {% endfor %}

            </div>
        </div>
    </div>
</div>
