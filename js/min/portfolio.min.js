const selectedProject=document.querySelectorAll(".project-col"),projectOverlay=document.querySelector(".project-overlay"),projectSwiper=document.querySelector(".swiper-wrapper");let swiper;function loadProject(projectTitle){document.querySelector(".selected-title").innerHTML=projectTitle,fetch("/projects.json").then(response=>response.json()).then(projects=>{const project=projects.find(({title:title})=>title===projectTitle),projectImages=project.images,projectLink=project.link,projectText=decodeURIComponent(project.text).replace(/\+/g," "),projectTech=project.tech;document.querySelector(".selected-tech").innerHTML=projectTech,document.querySelector(".about-project").innerHTML=projectText,projectLink.length>0?(document.querySelector(".selected-link").setAttribute("href",projectLink),document.querySelector(".selected-link").classList.remove("hidden")):(document.querySelector(".selected-link").setAttribute("href","#"),document.querySelector(".selected-link").classList.add("hidden"));const projectOpen=window.location.origin+"/?project="+encodeURI(projectTitle);document.querySelector(".copy-link").setAttribute("value",projectOpen);const linkedinShare="https://www.linkedin.com/sharing/share-offsite/?url="+encodeURI(projectOpen);let imageHeight;document.querySelector(".share-btn.linkedin").setAttribute("href",linkedinShare),projectImages.forEach(image=>{const projectSlide='<div class="swiper-slide"><img class="project-image" src="/images/'+image+'" />';projectSwiper.insertAdjacentHTML("beforeend",projectSlide)}),projectImages.length>1?(document.querySelectorAll(".swiper-button").forEach(el=>{el.classList.remove("hidden")}),swiper=new Swiper(".swiper",{slidesPerView:1,spaceBetween:32,loop:!0,paginationClickable:!0,autoHeight:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{568:{autoHeight:!1}}}),swiper.on("transitionEnd",(function(){imageHeight=document.querySelector('[data-swiper-slide-index="'+swiper.realIndex+'"] .project-image').height,scrollerDisplay()})),swiper.on("imagesReady",(function(){imageHeight=document.querySelector('[data-swiper-slide-index="0"] .project-image').height,scrollerDisplay()}))):(document.querySelectorAll(".swiper-button").forEach(el=>{el.classList.add("hidden")}),imageHeight=document.querySelector(".project-image").height,scrollerDisplay()),document.documentElement.classList.add("active"),projectOverlay.classList.add("active");document.querySelector(".scroller");function scrollerDisplay(){imageHeight&&imageHeight>520?document.querySelector(".scroller").classList.add("active"):document.querySelector(".scroller").classList.remove("active")}document.querySelectorAll(".swiper-slide").forEach(item=>{item.addEventListener("scroll",event=>{item.scrollTop>0?document.querySelector(".scroller").classList.remove("active"):document.querySelector(".scroller").classList.add("active")})})}).catch(err=>console.log(err))}function closeOverlay(){projectSwiper.innerHTML="",projectOverlay.classList.remove("active"),document.documentElement.classList.remove("active"),swiper&&swiper.destroy(!0,!0)}if(selectedProject.forEach(item=>{item.addEventListener("click",event=>{const projectTitle=event.currentTarget.querySelector(".project-title").innerText;console.log(projectTitle),loadProject(projectTitle)})}),document.querySelector(".close-project-overlay").onclick=event=>{closeOverlay()},window.onclick=event=>{event.target===document.querySelector(".project-overlay")&&closeOverlay()},document.querySelector(".load-more-projects").addEventListener("click",event=>{event.preventDefault();const hiddenProjects=document.querySelectorAll(".project-col.hidden");hiddenProjects.forEach((element,index)=>{index<=8&&element.classList.remove("hidden")});const offsetTop=window.scrollY+hiddenProjects[0].getBoundingClientRect().top;scroll({top:offsetTop,behavior:"smooth"}),hiddenProjects.length<9&&document.querySelector(".load-more-projects").classList.add("hidden")}),window.location.href.indexOf("project=")>-1){loadProject(getParams("project"))}document.querySelector(".share-btn.copy").addEventListener("click",event=>{event.preventDefault();const copyText=document.querySelector(".copy-link");function copySuccess(){document.querySelector(".share-btn.copy").classList.add("active"),setTimeout(()=>{document.querySelector(".share-btn.copy").classList.remove("active")},1e3)}navigator.clipboard?navigator.clipboard.writeText(copyText.value).then((function(){document.querySelector(".share-btn.copy"),copySuccess()})):(copyText.focus(),copyText.select(),copyText.setSelectionRange(0,99999),document.execCommand("copy"),copySuccess())});